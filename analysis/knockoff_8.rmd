---
title: "The Quality of Knockoffs"
author: "Lei Sun"
date: 2018-03-01
output: html_document
---

<!-- The file analysis/chunks.R contains chunks that define default settings
shared across the workflowr files. -->
```{r read-chunk, include=FALSE, cache=FALSE}
knitr::read_chunk("chunks.R")
```

<!-- Update knitr chunk options -->
```{r knitr-opts-chunk, include=FALSE}
```

<!-- Insert the date the file was last updated -->
```{r last-updated, echo=FALSE, results='asis'}
```

<!-- Insert the code version (Git commit SHA1) if Git repository exists and R
 package git2r is installed -->
```{r code-version, echo=FALSE, results='asis'}
```

<!-- Add your analysis here -->

## Introduction

The idea in `Knockoff` is to generate knockoff variables $\tilde X$ which 1) keep the relationship of original variables $X$ 2) are unlike the original variables 3) are null.

- For Fixed-$X$ Knockoff
$$
\begin{array}{c}
\tilde X_i^T\tilde X_i = X_i^TX_i \\
\tilde X_i^T\tilde X_j = X_i^T \tilde X_j = \tilde X_i^T X_j = X_i^TX_j \\
\tilde X_i^T X_i: \text{as small as possible}
\end{array}
$$

- For Model-X Knockoff
$$
\begin{array}{c}
Var(X_i) = Var(\tilde X_i) \\
cor(\tilde X_i, \tilde X_j) = cor(X_i, \tilde X_j)
= cor(\tilde X_i, X_j) = cor(X_i, X_j) \\
cor(\tilde X_i, X_i): \text{as small as possible}
\end{array}
$$

After centering $X_j$'s, the constraints on the Fix-$X$ design can be seen as the constraints on the **sample correlation** structure, whereas those on the Model-$X$ design as on the **population correlation** structure. It's no wonder the Model-$X$ design is believed to be more relaxed, and hence, more powerful.

## Session information

<!-- Insert the session information into the document -->
```{r session-info}
```
